const e=(e,t)=>{let n;t.innerHTML="",n=`<p style="color:white; text-align:center;">${e}</p>`,t.insertAdjacentHTML("afterbegin",n)},t=async(t=null)=>{e("Loading...ðŸš€",t);try{const e=await fetch("https://calm-inlet-18337.herokuapp.com/");if(!e.ok)throw new Error("Couldn't fetch blogs'");return{success:!0,data:await e.json()}}catch(e){return{success:!1,message:e.message}}},n=new IntersectionObserver(((e,t)=>{const[n]=e;n.isIntersecting&&(n.target.classList.remove("section--hidden"),t.unobserve(n.target))}),{root:null,threshold:.1}),s=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.src=e.target.dataset.src,t.unobserve(e.target))}))}),{threshold:.5}),o=async(n=null)=>{let s,o="";const a=await t(n);if(!a.success)return void e(`${a.message}  ðŸš©`,n);const{data:i}=a.data.results;let l;n.classList.contains("c-news")?(l=r(i,"news"),s=["#ff9343","#72ccca","#ff6865"]):n.classList.contains("c-jobs")&&(l=r(i,"jobs"),s=["#282828","#ff6865","#72ccca"]),l.forEach(((e,t)=>{t>s.length-1&&(t=0),o+=`\n        <div class="news__item" style="background-color: ${s[t]};">\n          <div style="font-size: 1.6rem; font-weight: bold; display: inline-block; white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis; ${"#282828"===s[t]?"color: white":""}">${e.name}</div>\n          <a href="https://news.wearecohere.org${e.permalink}"><img style="height: 20rem; width: 100%;"\n          src="../images/load-icon.png"\n          data-src="${e.image}" referrerpolicy="no-referrer"></a>\n        </div>\n        `})),n.innerHTML="",n.insertAdjacentHTML("afterbegin",o),c()},r=(e,t)=>e.filter((e=>e.category.includes(t))).slice(0,3),c=()=>{document.querySelectorAll("img[data-src]").forEach((e=>{s.observe(e)}))},a=document.querySelector(".slider__btn--left"),i=document.querySelector(".slider__btn--right"),l=document.querySelector(".dots"),d=document.querySelectorAll(".news__blog"),u=document.querySelectorAll("img[data-src]"),f=document.querySelectorAll(".section"),h=document.querySelectorAll(".slide");u.forEach((e=>{s.observe(e)})),f.forEach((function(e){n.observe(e)})),d&&d.forEach((e=>{o(e)})),h&&function(){let e=0;const t=slides.length,n=function(e){document.querySelectorAll(".dots__dot").forEach((e=>e.classList.remove("dots__dot--active"))),document.querySelector(`.dots__dot[data-slide="${e}"]`).classList.add("dots__dot--active")},s=function(e){slides.forEach(((t,n)=>t.style.transform=`translateX(${100*(n-e)}%)`))},o=function(){e===t-1?e=0:e++,s(e),n(e)},r=function(){0===e?e=t-1:e--,s(e),n(e)};s(0),slides.forEach((function(e,t){l.insertAdjacentHTML("beforeend",`<button class="dots__dot" data-slide="${t}"></button>`)})),n(0),i.addEventListener("click",o),a.addEventListener("click",r),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key&&r(),"ArrowRight"===e.key&&o()})),l.addEventListener("click",(function(e){if(e.target.classList.contains("dots__dot")){const{slide:t}=e.target.dataset;s(t),n(t)}}))}();
//# sourceMappingURL=index.29292168.js.map
