const e=(e,t)=>{let r;t.innerHTML="",r=`<p style="color:white; text-align:center;">${e}</p>`,t.insertAdjacentHTML("afterbegin",r)},t=async(t=null)=>{e("Loading...ðŸš€",t);try{const e=await fetch("https://calm-inlet-18337.herokuapp.com/");if(!e.ok)throw new Error("Couldn't fetch blogs'");return{success:!0,data:await e.json()}}catch(e){return{success:!1,message:e.message}}},r=new IntersectionObserver(((e,t)=>{const[r]=e;r.isIntersecting&&(r.target.classList.remove("section--hidden"),t.unobserve(r.target))}),{root:null,threshold:.1}),s=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.src=e.target.dataset.src,t.unobserve(e.target))}))}),{threshold:.5}),n=async(r=null)=>{let s,n="";const a=await t(r);if(!a.success)return void e(`${a.message}  ðŸš©`,r);const{data:i}=a.data.results;let l;r.classList.contains("c-news")?(l=c(i,"news"),s=["#ff9343","#72ccca","#ff6865"]):r.classList.contains("c-jobs")&&(l=c(i,"jobs"),s=["#282828","#ff6865","#72ccca"]),l.forEach(((e,t)=>{t>s.length-1&&(t=0),n+=`\n        <div class="news__item" style="background-color: ${s[t]};">\n          <div style="font-size: 1.6rem; font-weight: bold; display: inline-block; white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis; ${"#282828"===s[t]?"color: white":""}">${e.name}</div>\n          <a href="https://news.wearecohere.org${e.permalink}"><img style="height: 20rem; width: 100%;"\n          src="../images/load-icon.png"\n          data-src="${e.image}" referrerpolicy="no-referrer"></a>\n        </div>\n        `})),r.innerHTML="",r.insertAdjacentHTML("afterbegin",n),o()},c=(e,t)=>e.filter((e=>e.category.includes(t))).slice(0,3),o=()=>{document.querySelectorAll("img[data-src]").forEach((e=>{s.observe(e)}))},a=document.querySelectorAll(".news__blog"),i=document.querySelectorAll("img[data-src]"),l=document.querySelectorAll(".section");i.forEach((e=>{s.observe(e)})),l.forEach((function(e){r.observe(e)})),a&&a.forEach((e=>{n(e)}));
//# sourceMappingURL=index.1a73c369.js.map
