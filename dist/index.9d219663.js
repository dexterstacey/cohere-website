const e=(e,t)=>{let s;t.innerHTML="",s=`<p style="color:white; text-align:center;">${e}</p>`,t.insertAdjacentHTML("afterbegin",s)},t=async(t=null)=>{let r,n="";const c=await(async(t=null)=>{e("Loading...ðŸš€",t);try{const e=await fetch("https://calm-inlet-18337.herokuapp.com/");if(!e.ok)throw new Error("Couldn't fetch blogs'");return{success:!0,data:await e.json()}}catch(e){return{success:!1,message:e.message}}})(t);if(!c.success)return void e(`${c.message}  ðŸš©`,t);const{data:o}=c.data.results;let a;t.classList.contains("c-news")?(a=s(o,"news"),r=["#ff9343","#72ccca","#ff6865"]):t.classList.contains("c-jobs")&&(a=s(o,"jobs"),r=["#282828","#ff6865","#72ccca"]),a.forEach(((e,t)=>{t>r.length-1&&(t=0),n+=`\n        <div class="news__item" style="background-color: ${r[t]};">\n          <div style="font-size: 1.6rem; font-weight: bold; display: inline-block; white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis; ${"#282828"===r[t]?"color: white":""}">${e.name}</div>\n          <a href="https://news.wearecohere.org${e.permalink}"><img style="height: 20rem; width: 100%;"\n          data-src="../images/blog-placeholder.jpg"\n           src="${e.image}" referrerpolicy="no-referrer"></a>\n        </div>\n        `})),t.innerHTML="",t.insertAdjacentHTML("afterbegin",n)},s=(e,t)=>e.filter((e=>e.category.includes(t))).slice(0,3),r=new IntersectionObserver(((e,t)=>{const[s]=e;s.isIntersecting&&(s.target.classList.remove("section--hidden"),t.unobserve(s.target))}),{root:null,threshold:.1}),n=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.src=e.target.dataset.src,t.unobserve(e.target))}))}),{threshold:.5}),c=document.querySelectorAll(".news__blog"),o=document.querySelectorAll("img[data-src]"),a=document.querySelectorAll(".section");o.forEach((e=>{n.observe(e)})),a.forEach((function(e){r.observe(e)})),c&&c.forEach((e=>{t(e)}));
//# sourceMappingURL=index.9d219663.js.map
