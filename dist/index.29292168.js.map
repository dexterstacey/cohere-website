{"mappings":"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","sources":["js/utilities.js","js/fetchBlogs.js","js/lazyLoading.js","js/renderBlogs.js","js/slider.js","js/script.js"],"sourcesContent":["\"use strict\";\r\n/**\r\n * Display message in UI\r\n * @param {String} message\r\n * @param {DomElement} element\r\n */\r\nexport const loadMessage = (message, element) => {\r\n  element.innerHTML = \"\";\r\n  let html;\r\n  html = `<p style=\"color:white; text-align:center;\">${message}</p>`;\r\n  element.insertAdjacentHTML(\"afterbegin\", html);\r\n};\r\n","import { loadMessage } from \"./utilities.js\";\r\n\r\nexport const fetchBlogs = async (element = null) => {\r\n  loadMessage(\"Loading...ðŸš€\", element);\r\n  try {\r\n    const response = await fetch(\"https://calm-inlet-18337.herokuapp.com/\");\r\n    if (!response.ok) {\r\n      throw new Error(\"Couldn't fetch blogs'\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    return {\r\n      success: true,\r\n      data,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: error.message,\r\n    };\r\n  }\r\n};\r\n","\"use strict\";\r\n\r\n//-------------------\r\n// Lazy Load Sections\r\nconst revealSection = (entries, observer) => {\r\n  const [entry] = entries;\r\n\r\n  if (!entry.isIntersecting) return;\r\n\r\n  entry.target.classList.remove(\"section--hidden\");\r\n  observer.unobserve(entry.target);\r\n};\r\n\r\nexport const sectionObserver = new IntersectionObserver(revealSection, {\r\n  root: null,\r\n  threshold: 0.1,\r\n});\r\n\r\n//-------------------\r\n// Lazy Load Images\r\nconst loadImage = (entries, observer) => {\r\n  entries.forEach((entry) => {\r\n    if (entry.isIntersecting) {\r\n      entry.target.src = entry.target.dataset.src;\r\n\r\n      // unobserve\r\n      observer.unobserve(entry.target);\r\n    }\r\n  });\r\n};\r\n\r\nexport const imgObserver = new IntersectionObserver(loadImage, {\r\n  // play around with this\r\n  threshold: 0.5,\r\n});\r\n","\"use strict\";\r\nimport { fetchBlogs } from \"./fetchBlogs.js\";\r\nimport { loadMessage } from \"./utilities.js\";\r\nimport { imgObserver } from \"./lazyLoading.js\";\r\n\r\nexport const renderBlogs = async (element = null) => {\r\n  let html = ``;\r\n  let colors;\r\n\r\n  // fetch blogs\r\n  const blogs = await fetchBlogs(element);\r\n\r\n  //show error if it fails\r\n  if (!blogs.success) {\r\n    loadMessage(`${blogs.message}  ðŸš©`, element);\r\n    return;\r\n  }\r\n\r\n  const { data } = blogs.data.results;\r\n\r\n  // Limit to only 3 articles\r\n  let firstThreeArticles;\r\n  if (element.classList.contains(\"c-news\")) {\r\n    firstThreeArticles = filterArr(data, \"news\");\r\n    colors = [\"#ff9343\", \"#72ccca\", \"#ff6865\"];\r\n  } else if (element.classList.contains(\"c-jobs\")) {\r\n    firstThreeArticles = filterArr(data, \"jobs\");\r\n    colors = [\"#282828\", \"#ff6865\", \"#72ccca\"];\r\n  }\r\n\r\n  firstThreeArticles.forEach((el, index) => {\r\n    // reset colors after every 3 blogs\r\n    if (index > colors.length - 1) index = 0;\r\n\r\n    html += `\r\n        <div class=\"news__item\" style=\"background-color: ${colors[index]};\">\r\n          <div style=\"font-size: 1.6rem; font-weight: bold; display: inline-block; white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis; ${\r\n            colors[index] === \"#282828\" ? \"color: white\" : \"\"\r\n          }\">${el.name}</div>\r\n          <a href=\"https://news.wearecohere.org${\r\n            el.permalink\r\n          }\"><img style=\"height: 20rem; width: 100%;\"\r\n          src=\"../images/load-icon.png\"\r\n          data-src=\"${el.image}\" referrerpolicy=\"no-referrer\"></a>\r\n        </div>\r\n        `;\r\n  });\r\n\r\n  element.innerHTML = \"\";\r\n  // insert blogs under the news div\r\n  element.insertAdjacentHTML(\"afterbegin\", html);\r\n\r\n  lazyLoadBlog();\r\n};\r\n\r\nconst filterArr = (arr, category) => {\r\n  const returnedArray = arr\r\n    .filter((blog) => blog.category.includes(category))\r\n    .slice(0, 3);\r\n\r\n  return returnedArray;\r\n};\r\n\r\nconst lazyLoadBlog = () => {\r\n  const imgTargets = document.querySelectorAll(\"img[data-src]\");\r\n\r\n  imgTargets.forEach((img) => {\r\n    imgObserver.observe(img);\r\n  });\r\n};\r\n","\"use strict\";\r\n\r\nconst btnLeft = document.querySelector(\".slider__btn--left\");\r\nconst btnRight = document.querySelector(\".slider__btn--right\");\r\nconst dotContainer = document.querySelector(\".dots\");\r\n\r\nexport const slider = function () {\r\n  let curSlide = 0;\r\n  const maxSlide = slides.length;\r\n\r\n  // Functions\r\n  const createDots = function () {\r\n    slides.forEach(function (_, i) {\r\n      dotContainer.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `<button class=\"dots__dot\" data-slide=\"${i}\"></button>`\r\n      );\r\n    });\r\n  };\r\n\r\n  const activateDot = function (slide) {\r\n    document\r\n      .querySelectorAll(\".dots__dot\")\r\n      .forEach((dot) => dot.classList.remove(\"dots__dot--active\"));\r\n\r\n    document\r\n      .querySelector(`.dots__dot[data-slide=\"${slide}\"]`)\r\n      .classList.add(\"dots__dot--active\");\r\n  };\r\n\r\n  const goToSlide = function (slide) {\r\n    slides.forEach(\r\n      (s, i) => (s.style.transform = `translateX(${100 * (i - slide)}%)`)\r\n    );\r\n  };\r\n\r\n  // Next slide\r\n  const nextSlide = function () {\r\n    if (curSlide === maxSlide - 1) {\r\n      curSlide = 0;\r\n    } else {\r\n      curSlide++;\r\n    }\r\n\r\n    goToSlide(curSlide);\r\n    activateDot(curSlide);\r\n  };\r\n\r\n  const prevSlide = function () {\r\n    if (curSlide === 0) {\r\n      curSlide = maxSlide - 1;\r\n    } else {\r\n      curSlide--;\r\n    }\r\n    goToSlide(curSlide);\r\n    activateDot(curSlide);\r\n  };\r\n\r\n  const init = function () {\r\n    goToSlide(0);\r\n    createDots();\r\n\r\n    activateDot(0);\r\n  };\r\n  init();\r\n\r\n  // Event handlers\r\n  btnRight.addEventListener(\"click\", nextSlide);\r\n  btnLeft.addEventListener(\"click\", prevSlide);\r\n\r\n  document.addEventListener(\"keydown\", function (e) {\r\n    if (e.key === \"ArrowLeft\") prevSlide();\r\n    e.key === \"ArrowRight\" && nextSlide();\r\n  });\r\n\r\n  dotContainer.addEventListener(\"click\", function (e) {\r\n    if (e.target.classList.contains(\"dots__dot\")) {\r\n      const { slide } = e.target.dataset;\r\n      goToSlide(slide);\r\n      activateDot(slide);\r\n    }\r\n  });\r\n};\r\n","\"use strict\";\r\n\r\nimport { renderBlogs } from \"./renderBlogs.js\";\r\nimport { sectionObserver, imgObserver } from \"./lazyLoading.js\";\r\nimport { slider } from \"./slider.js\";\r\n\r\n//DOM ELEMENTS\r\nconst newsBlog = document.querySelectorAll(\".news__blog\");\r\nconst imgTargets = document.querySelectorAll(\"img[data-src]\");\r\nconst allSections = document.querySelectorAll(\".section\");\r\n\r\nconst slides = document.querySelectorAll(\".slide\");\r\n\r\n// LAZY LOADING IMAGES SECTION\r\nimgTargets.forEach((img) => {\r\n  imgObserver.observe(img);\r\n});\r\n\r\n// REVEAL SECTIONS\r\nallSections.forEach(function (section) {\r\n  sectionObserver.observe(section);\r\n  // section.classList.add(\"section--hidden\");\r\n});\r\n\r\n// READ BLOGS SECTION\r\nif (newsBlog) {\r\n  newsBlog.forEach((news) => {\r\n    renderBlogs(news);\r\n  });\r\n}\r\n\r\n///////////////////////////////////////\r\n// Slider\r\nif (slides) {\r\n  slider();\r\n}\r\n"],"names":["$5d6550968de8c61a$export$256bbd5aad6f8776","message","element","html","innerHTML","insertAdjacentHTML","$ce3ba961afdcb3a4$export$32571bc73c67d0d","async","response","fetch","ok","Error","success","json","error","$a908ea86829f5857$export$40856bbc529472d6","IntersectionObserver","entries","observer","entry","isIntersecting","target","classList","remove","unobserve","root","threshold","$a908ea86829f5857$export$95044a44f7153186","forEach","src","dataset","$172ec34f52825009$export$3bb840505b3a377a","colors","blogs","data","results","firstThreeArticles","contains","$172ec34f52825009$var$filterArr","el","index","length","name","permalink","image","arr","category","$01fb213f724084b9$var$btnLeft","document","querySelector","$01fb213f724084b9$var$btnRight","$01fb213f724084b9$var$dotContainer","$63eb283d27decb4d$var$newsBlog","querySelectorAll","$63eb283d27decb4d$var$imgTargets","$63eb283d27decb4d$var$allSections","$63eb283d27decb4d$var$slides","img","observe","section","news","curSlide","maxSlide","slides","activateDot","slide","dot","add","goToSlide","s","i","style","transform","nextSlide","prevSlide","_","addEventListener","e","key"],"version":3,"file":"index.29292168.js.map"}